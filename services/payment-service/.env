# Payment Service Configuration

# Service Configuration
PORT=3008
NODE_ENV=development
SERVICE_NAME=payment-service

# Database Configuration
DB_HOST=localhost
DB_PORT=5440
DB_USER=hockeyhub_user
DB_PASSWORD=hockey_hub_password
DB_NAME=hockey_hub_payment
DB_SYNCHRONIZE=false
DB_LOGGING=true
DB_POOL_SIZE=20

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=8
REDIS_KEY_PREFIX=payment:

# JWT Configuration (for service-to-service auth)
JWT_SECRET=6e75234ff6c247bd2989b536f991d79a37301b0f34c13f2e746f561c991c50388f8a2a1b0ec7c4454d0c397230662ec8caf66949a3c77e0cd38f2c4e8a11e695
JWT_ALGORITHM=RS256

# Service URLs
USER_SERVICE_URL=http://localhost:3001
COMMUNICATION_SERVICE_URL=http://localhost:3002

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_secret_here
STRIPE_API_VERSION=2023-10-16
STRIPE_WEBHOOK_TOLERANCE_SECONDS=300

# PayPal Configuration
PAYPAL_CLIENT_ID=your-client-id
PAYPAL_CLIENT_SECRET=your-client-secret
PAYPAL_MODE=sandbox
PAYPAL_WEBHOOK_ID=your-webhook-id

# Payment Configuration
SUPPORTED_CURRENCIES=USD,CAD,EUR
DEFAULT_CURRENCY=USD
PAYMENT_METHODS=card,bank_transfer,paypal
PROCESSING_FEE_PERCENTAGE=2.9
PROCESSING_FEE_FIXED_CENTS=30

# Subscription Management
SUBSCRIPTION_PLANS=basic,standard,premium,enterprise
TRIAL_PERIOD_DAYS=14
GRACE_PERIOD_DAYS=3
AUTO_RENEWAL_ENABLED=true
PRORATION_ENABLED=true

# Invoice Configuration
INVOICE_PREFIX=INV
INVOICE_DUE_DAYS=30
INVOICE_TEMPLATE_PATH=./templates/invoice.html
TAX_CALCULATION_ENABLED=true
DEFAULT_TAX_RATE=0

# Security
PCI_COMPLIANCE_MODE=true
PAYMENT_ENCRYPTION_KEY=your-encryption-key
TOKENIZATION_ENABLED=true
FRAUD_DETECTION_ENABLED=true

# Refunds
REFUND_WINDOW_DAYS=30
PARTIAL_REFUNDS_ALLOWED=true
REFUND_REASONS=requested_by_customer,duplicate,fraudulent,other

# Webhooks
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_TIMEOUT_SECONDS=30
WEBHOOK_SIGNATURE_VERIFICATION=true

# Reporting
FINANCIAL_REPORTS_ENABLED=true
REPORT_GENERATION_SCHEDULE=0 2 * * *
REVENUE_RECOGNITION_METHOD=accrual

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=50

# Logging
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_SENSITIVE_DATA_MASKING=true

# Monitoring
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true

# Compliance
GDPR_COMPLIANT=true
DATA_RETENTION_YEARS=7
AUDIT_LOG_ENABLED=true
